{"ast":null,"code":"import { ADD_TASK, GET_TASKS } from \"../../queries/query\";\nimport { useMutation } from '@apollo/client';\nconst [addTaskMutation] = useMutation(ADD_TASK);\nconst currentUserToken = JSON.parse(localStorage.getItem('currentUser'));\nconst currentUserName = JSON.parse(localStorage.getItem('currentUserName'));\nfunction AddTask(taskName) {\n  addTaskMutation({\n    variables: {\n      input: {\n        name: taskName\n      },\n      token: currentUserToken,\n      userName: currentUserName\n    },\n    update: (cache, _ref) => {\n      let {\n        data\n      } = _ref;\n      const existingTasks = cache.readQuery({\n        query: GET_TASKS,\n        variables: {\n          token: currentUserToken,\n          userName: currentUserName\n        }\n      });\n      const newTask = {\n        userName: currentUserName,\n        token: currentUserToken,\n        taskName: data.newTask.taskName,\n        done: false,\n        id: data.newTask.id\n      };\n      const updatedTasks = [...existingTasks.tasks, newTask];\n      cache.writeQuery({\n        query: GET_TASKS,\n        variables: {\n          token: currentUserToken,\n          userName: currentUserName\n        },\n        data: {\n          tasks: updatedTasks\n        }\n      });\n    }\n  });\n}\n_c = AddTask;\nexport default AddTask;\nvar _c;\n$RefreshReg$(_c, \"AddTask\");","map":{"version":3,"names":["ADD_TASK","GET_TASKS","useMutation","addTaskMutation","currentUserToken","JSON","parse","localStorage","getItem","currentUserName","AddTask","taskName","variables","input","name","token","userName","update","cache","_ref","data","existingTasks","readQuery","query","newTask","done","id","updatedTasks","tasks","writeQuery","_c","$RefreshReg$"],"sources":["/Users/andrea/Desktop/ITS Prodigi/Seacom/Application/Todo/Full Stack ToDo login elasticEmongo/client/src/components/functions/AddTask.js"],"sourcesContent":["import { ADD_TASK,GET_TASKS } from \"../../queries/query\";\nimport  {useMutation} from '@apollo/client'\n\nconst [addTaskMutation] = useMutation(ADD_TASK)\nconst currentUserToken = JSON.parse(localStorage.getItem('currentUser'));\nconst currentUserName = JSON.parse(localStorage.getItem('currentUserName'));\nfunction AddTask(taskName) {\n    addTaskMutation({\n      variables: {\n        input: {\n          name: taskName\n        },\n        token: currentUserToken,\n        userName: currentUserName\n      },\n      update: (cache, { data }) => {\n        const existingTasks = cache.readQuery({\n          query: GET_TASKS,\n          variables: {\n            token: currentUserToken,\n            userName: currentUserName\n          }\n        });\n        const newTask = {\n          userName: currentUserName,\n          token: currentUserToken,\n          taskName: data.newTask.taskName,\n          done: false,\n          id: data.newTask.id\n        };\n        const updatedTasks = [...existingTasks.tasks, newTask];\n        cache.writeQuery({\n          query: GET_TASKS,\n          variables: {\n            token: currentUserToken,\n            userName: currentUserName\n          },\n          data: { tasks: updatedTasks }\n        });\n      },\n    });\n  }\n\nexport default AddTask"],"mappings":"AAAA,SAASA,QAAQ,EAACC,SAAS,QAAQ,qBAAqB;AACxD,SAASC,WAAW,QAAO,gBAAgB;AAE3C,MAAM,CAACC,eAAe,CAAC,GAAGD,WAAW,CAACF,QAAQ,CAAC;AAC/C,MAAMI,gBAAgB,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC;AACxE,MAAMC,eAAe,GAAGJ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,CAAC;AAC3E,SAASE,OAAOA,CAACC,QAAQ,EAAE;EACvBR,eAAe,CAAC;IACdS,SAAS,EAAE;MACTC,KAAK,EAAE;QACLC,IAAI,EAAEH;MACR,CAAC;MACDI,KAAK,EAAEX,gBAAgB;MACvBY,QAAQ,EAAEP;IACZ,CAAC;IACDQ,MAAM,EAAEA,CAACC,KAAK,EAAAC,IAAA,KAAe;MAAA,IAAb;QAAEC;MAAK,CAAC,GAAAD,IAAA;MACtB,MAAME,aAAa,GAAGH,KAAK,CAACI,SAAS,CAAC;QACpCC,KAAK,EAAEtB,SAAS;QAChBW,SAAS,EAAE;UACTG,KAAK,EAAEX,gBAAgB;UACvBY,QAAQ,EAAEP;QACZ;MACF,CAAC,CAAC;MACF,MAAMe,OAAO,GAAG;QACdR,QAAQ,EAAEP,eAAe;QACzBM,KAAK,EAAEX,gBAAgB;QACvBO,QAAQ,EAAES,IAAI,CAACI,OAAO,CAACb,QAAQ;QAC/Bc,IAAI,EAAE,KAAK;QACXC,EAAE,EAAEN,IAAI,CAACI,OAAO,CAACE;MACnB,CAAC;MACD,MAAMC,YAAY,GAAG,CAAC,GAAGN,aAAa,CAACO,KAAK,EAAEJ,OAAO,CAAC;MACtDN,KAAK,CAACW,UAAU,CAAC;QACfN,KAAK,EAAEtB,SAAS;QAChBW,SAAS,EAAE;UACTG,KAAK,EAAEX,gBAAgB;UACvBY,QAAQ,EAAEP;QACZ,CAAC;QACDW,IAAI,EAAE;UAAEQ,KAAK,EAAED;QAAa;MAC9B,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;AACJ;AAACG,EAAA,GAnCMpB,OAAO;AAqChB,eAAeA,OAAO;AAAA,IAAAoB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}