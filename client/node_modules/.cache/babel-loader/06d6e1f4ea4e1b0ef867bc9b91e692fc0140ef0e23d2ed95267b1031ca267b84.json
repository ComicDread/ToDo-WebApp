{"ast":null,"code":"var _s = $RefreshSig$();\nimport { ADD_TASK, GET_TASKS } from \"../../queries/query\";\nimport { useMutation } from '@apollo/client';\nconst currentUserToken = JSON.parse(localStorage.getItem('currentUser'));\nconst currentUserName = JSON.parse(localStorage.getItem('currentUserName'));\nfunction AddTask(taskName) {\n  _s();\n  const [addTaskMutation] = useMutation(ADD_TASK);\n  addTaskMutation({\n    variables: {\n      input: {\n        name: taskName\n      },\n      token: currentUserToken,\n      userName: currentUserName\n    },\n    update: (cache, _ref) => {\n      let {\n        data\n      } = _ref;\n      const existingTasks = cache.readQuery({\n        query: GET_TASKS,\n        variables: {\n          token: currentUserToken,\n          userName: currentUserName\n        }\n      });\n      const newTask = {\n        userName: currentUserName,\n        token: currentUserToken,\n        taskName: data.newTask.taskName,\n        done: false,\n        id: data.newTask.id\n      };\n      const updatedTasks = [...existingTasks.tasks, newTask];\n      cache.writeQuery({\n        query: GET_TASKS,\n        variables: {\n          token: currentUserToken,\n          userName: currentUserName\n        },\n        data: {\n          tasks: updatedTasks\n        }\n      });\n    }\n  });\n}\n_s(AddTask, \"j9g40Y3FmQXIoESPob4ZYDF3oE8=\", false, function () {\n  return [useMutation];\n});\n_c = AddTask;\nexport default AddTask;\nvar _c;\n$RefreshReg$(_c, \"AddTask\");","map":{"version":3,"names":["ADD_TASK","GET_TASKS","useMutation","currentUserToken","JSON","parse","localStorage","getItem","currentUserName","AddTask","taskName","_s","addTaskMutation","variables","input","name","token","userName","update","cache","_ref","data","existingTasks","readQuery","query","newTask","done","id","updatedTasks","tasks","writeQuery","_c","$RefreshReg$"],"sources":["/Users/andrea/Desktop/ITS Prodigi/Seacom/Application/Todo/Full Stack ToDo login elasticEmongo/client/src/components/functions/AddTask.js"],"sourcesContent":["import { ADD_TASK,GET_TASKS } from \"../../queries/query\";\nimport  {useMutation} from '@apollo/client'\n\nconst currentUserToken = JSON.parse(localStorage.getItem('currentUser'));\nconst currentUserName = JSON.parse(localStorage.getItem('currentUserName'));\nfunction AddTask(taskName) {\n    const [addTaskMutation] = useMutation(ADD_TASK)\n    addTaskMutation({\n      variables: {\n        input: {\n          name: taskName\n        },\n        token: currentUserToken,\n        userName: currentUserName\n      },\n      update: (cache, { data }) => {\n        const existingTasks = cache.readQuery({\n          query: GET_TASKS,\n          variables: {\n            token: currentUserToken,\n            userName: currentUserName\n          }\n        });\n        const newTask = {\n          userName: currentUserName,\n          token: currentUserToken,\n          taskName: data.newTask.taskName,\n          done: false,\n          id: data.newTask.id\n        };\n        const updatedTasks = [...existingTasks.tasks, newTask];\n        cache.writeQuery({\n          query: GET_TASKS,\n          variables: {\n            token: currentUserToken,\n            userName: currentUserName\n          },\n          data: { tasks: updatedTasks }\n        });\n      },\n    });\n  }\n\nexport default AddTask"],"mappings":";AAAA,SAASA,QAAQ,EAACC,SAAS,QAAQ,qBAAqB;AACxD,SAASC,WAAW,QAAO,gBAAgB;AAE3C,MAAMC,gBAAgB,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC;AACxE,MAAMC,eAAe,GAAGJ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,CAAC;AAC3E,SAASE,OAAOA,CAACC,QAAQ,EAAE;EAAAC,EAAA;EACvB,MAAM,CAACC,eAAe,CAAC,GAAGV,WAAW,CAACF,QAAQ,CAAC;EAC/CY,eAAe,CAAC;IACdC,SAAS,EAAE;MACTC,KAAK,EAAE;QACLC,IAAI,EAAEL;MACR,CAAC;MACDM,KAAK,EAAEb,gBAAgB;MACvBc,QAAQ,EAAET;IACZ,CAAC;IACDU,MAAM,EAAEA,CAACC,KAAK,EAAAC,IAAA,KAAe;MAAA,IAAb;QAAEC;MAAK,CAAC,GAAAD,IAAA;MACtB,MAAME,aAAa,GAAGH,KAAK,CAACI,SAAS,CAAC;QACpCC,KAAK,EAAEvB,SAAS;QAChBY,SAAS,EAAE;UACTG,KAAK,EAAEb,gBAAgB;UACvBc,QAAQ,EAAET;QACZ;MACF,CAAC,CAAC;MACF,MAAMiB,OAAO,GAAG;QACdR,QAAQ,EAAET,eAAe;QACzBQ,KAAK,EAAEb,gBAAgB;QACvBO,QAAQ,EAAEW,IAAI,CAACI,OAAO,CAACf,QAAQ;QAC/BgB,IAAI,EAAE,KAAK;QACXC,EAAE,EAAEN,IAAI,CAACI,OAAO,CAACE;MACnB,CAAC;MACD,MAAMC,YAAY,GAAG,CAAC,GAAGN,aAAa,CAACO,KAAK,EAAEJ,OAAO,CAAC;MACtDN,KAAK,CAACW,UAAU,CAAC;QACfN,KAAK,EAAEvB,SAAS;QAChBY,SAAS,EAAE;UACTG,KAAK,EAAEb,gBAAgB;UACvBc,QAAQ,EAAET;QACZ,CAAC;QACDa,IAAI,EAAE;UAAEQ,KAAK,EAAED;QAAa;MAC9B,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;AACJ;AAACjB,EAAA,CApCMF,OAAO;EAAA,QACcP,WAAW;AAAA;AAAA6B,EAAA,GADhCtB,OAAO;AAsChB,eAAeA,OAAO;AAAA,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}