{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useNavigate } from 'react-router-dom';\nasync function HandleDeleteAccount() {\n  _s();\n  const navigate = useNavigate();\n  const taskIds = tasksData.tasks.map(task => task.id);\n  const token = currentUserToken;\n  deleteUserMutation({\n    variables: {\n      token: currentUserToken,\n      id: taskIds\n    },\n    update: cache => {\n      cache.writeQuery({\n        query: CHECK_USER,\n        variables: {\n          token: token\n        },\n        data: {\n          CheckUser: {}\n        }\n      });\n      cache.writeQuery({\n        query: GET_TASKS,\n        variables: {\n          token: currentUserToken,\n          userName: currentUserName\n        },\n        data: {\n          tasks: []\n        }\n      });\n    }\n  });\n  localStorage.setItem('currentUser', JSON.stringify(null));\n  localStorage.setItem('currentUserName', JSON.stringify(null));\n  localStorage.setItem('currentUserImg', JSON.stringify(null));\n  navigate('/login');\n}\n_s(HandleDeleteAccount, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = HandleDeleteAccount;\nexport default {\n  HandleDeleteAccount\n};\nvar _c;\n$RefreshReg$(_c, \"HandleDeleteAccount\");","map":{"version":3,"names":["useNavigate","HandleDeleteAccount","_s","navigate","taskIds","tasksData","tasks","map","task","id","token","currentUserToken","deleteUserMutation","variables","update","cache","writeQuery","query","CHECK_USER","data","CheckUser","GET_TASKS","userName","currentUserName","localStorage","setItem","JSON","stringify","_c","$RefreshReg$"],"sources":["/Users/andrea/Desktop/ITS Prodigi/Seacom/Application/Todo/Full Stack ToDo login elasticEmongo/client/src/components/functions/HandleDeleteAccount.js"],"sourcesContent":["import  { useNavigate } from 'react-router-dom';\n\nasync function HandleDeleteAccount(){\n    const navigate = useNavigate();\n    const taskIds = tasksData.tasks.map((task) => task.id);\n    const token = currentUserToken\n    deleteUserMutation({\n      variables: {\n        token: currentUserToken,\n        id: taskIds\n      },\n      update: (cache) => {\n        cache.writeQuery({\n          query: CHECK_USER,\n          variables: {token:token},\n          data: { CheckUser: {} },\n        });\n        cache.writeQuery({\n          query: GET_TASKS,\n          variables: {\n            token: currentUserToken,\n            userName: currentUserName\n          },\n          data: { tasks: [] }, \n        });\n      },\n    })\n    localStorage.setItem('currentUser', JSON.stringify(null));\n    localStorage.setItem('currentUserName', JSON.stringify(null));\n    localStorage.setItem('currentUserImg', JSON.stringify(null));\n    navigate('/login')\n  }\n\n\n  export default {HandleDeleteAccount}"],"mappings":";AAAA,SAAUA,WAAW,QAAQ,kBAAkB;AAE/C,eAAeC,mBAAmBA,CAAA,EAAE;EAAAC,EAAA;EAChC,MAAMC,QAAQ,GAAGH,WAAW,CAAC,CAAC;EAC9B,MAAMI,OAAO,GAAGC,SAAS,CAACC,KAAK,CAACC,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,CAAC;EACtD,MAAMC,KAAK,GAAGC,gBAAgB;EAC9BC,kBAAkB,CAAC;IACjBC,SAAS,EAAE;MACTH,KAAK,EAAEC,gBAAgB;MACvBF,EAAE,EAAEL;IACN,CAAC;IACDU,MAAM,EAAGC,KAAK,IAAK;MACjBA,KAAK,CAACC,UAAU,CAAC;QACfC,KAAK,EAAEC,UAAU;QACjBL,SAAS,EAAE;UAACH,KAAK,EAACA;QAAK,CAAC;QACxBS,IAAI,EAAE;UAAEC,SAAS,EAAE,CAAC;QAAE;MACxB,CAAC,CAAC;MACFL,KAAK,CAACC,UAAU,CAAC;QACfC,KAAK,EAAEI,SAAS;QAChBR,SAAS,EAAE;UACTH,KAAK,EAAEC,gBAAgB;UACvBW,QAAQ,EAAEC;QACZ,CAAC;QACDJ,IAAI,EAAE;UAAEb,KAAK,EAAE;QAAG;MACpB,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;EACFkB,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAAC,CAAC;EACzDH,YAAY,CAACC,OAAO,CAAC,iBAAiB,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAAC,CAAC;EAC7DH,YAAY,CAACC,OAAO,CAAC,gBAAgB,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAAC,CAAC;EAC5DxB,QAAQ,CAAC,QAAQ,CAAC;AACpB;AAACD,EAAA,CA7BYD,mBAAmB;EAAA,QACbD,WAAW;AAAA;AAAA4B,EAAA,GADjB3B,mBAAmB;AAgChC,eAAe;EAACA;AAAmB,CAAC;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}